---
import Button from 'tint/components/Button.svelte'

import HeaderMenu from './HeaderMenu.svelte'

const { signedIn, me, error } = Astro.locals.me
---

<header>
  <div>
    <a href="/"><h1>Archive</h1></a>
  </div>
  <div>
    {
      error || Astro.isPrerendered ? null : signedIn ? (
        <HeaderMenu client:idle user={me?.data.me} />
      ) : (
        <Button small={true} href="/login">
          Log in
        </Button>
      )
    }
  </div>
</header>

<style lang="sass">
  header
    display: flex
    justify-content: space-between
    align-items: center
    height: 72px
    padding-inline: tint.$size-24
    background-color: var(--tint-bg)

  a
    text-decoration: none
    &:hover, &:active
      text-decoration: underline
  h1
    font-family: 'HK Grotesk', sans-serif
    font-size: tint.$size-24
    font-weight: 700
</style>
