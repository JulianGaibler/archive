@import "./reset"
@import "./mixins"
@import "./palette"

[data-theme^="light"]
    varinject($light)

[data-theme^="dark"]
    varinject($dark)

* {
    -webkit-font-smoothing antialiased
    -moz-osx-font-smoothing grayscale
}

body
    overflow-y scroll
    c color archive-inv
    c fill archive-inv
    c background archive-std
    font-family 'Heebo', sans-serif

input, button, textarea, select, a
    text-decoration inherit
    background unset
    border none
    color inherit
    font-family inherit
    font-weight inherit
    font-size inherit
    outline none
    c fill archive-inv

h1
    font-size 3.3rem
    font-weight 700
h2
    font-size 1.6rem
    font-weight 500
h3
    font-size 1.25rem
    font-weight 500

strong
    font-weight 500

picture > img
    width 100%

#app
    height 100%
    display flex
    main
        flex 1

#nprogress
    pointer-events none
    .bar
        c background archive-grey3
        position fixed
        z-index 1031
        top 0
        left 0
        width 100%
        height 2px

body::-webkit-scrollbar
    width .5rem

body::-webkit-scrollbar-track
    c background archive-grey1

body::-webkit-scrollbar-thumb
    c background archive-grey3


input.hiddenInput
    width 0.1px
    height 0.1px
    opacity 0
    overflow hidden
    position absolute
    z-index -1

.headerRow
    display flex
    > :nth-child(1)
        width 8.75rem
        height 8.75rem
        flex-shrink 0
        margin-right 1.5rem
    > :nth-child(2)
        flex 1
        padding-top 1rem
    @media screen and (max-width: $archive-screen-small)
        flex-direction column
        align-items stretch

.itemRow
    display flex
    flex-direction row
    align-items center
    &.itemRow-center
        justify-content center
    &.itemRow-align-start
        align-items flex-start
    &.itemRow-column
        flex-direction column
    @media screen and (max-width: $archive-screen-small)
        &.itemRow-smallCol
            flex-direction column
            align-items stretch
    .itemRow-grow
        flex 1

.spacerPipe
    margin 0 .5rem

.profilePic
    display inline-block
    border-radius $archive-radius-profile
    overflow hidden
    line-height 0

.errorBox
    c background archive-grey1
    c color archive-primary1
    padding 1rem
    border-radius $archive-radius2
    margin-bottom 1rem

.chip
    display inline-block
    display inline-flex
    align-items center
    border-radius $archive-radius1
    color $archive-black
    font-weight 500
    line-height 1
    font-size 0.875rem
    text-transform uppercase
    background $archive-grey2
    padding 0.2rem 0.6rem 0.2rem 0.3rem
    span
        line-height 0.5
    svg
        margin-right .1rem
    &.chip-keyword
        color $archive-black
        fill $archive-black
        c background archive-primary2
    &.chip-collection
        c color archive-white
        c fill archive-white
        c background archive-primary1

.button
    remove-native()
    c background archive-grey1
    font-weight 500
    padding 0 1.5rem
    height 2.75rem
    flex-shrink 0
    border-radius $archive-radius2
    &:focus.focus-visible
        c box-shadow archive-inv-a04 0px 0px 0 0.15rem
    &.button-primary
        c background archive-inv
        font-weight 700
        c color archive-std
        > svg
            c fill archive-std
    &.button-light
        c background archive-std
    &.button-confirm
        c color archive-white
        c background archive-green
    &.button-dangerous
        c background archive-primary1
        font-weight 700
        color white
        fill white
    &.button-slim
        height 2rem
        padding 0 1rem
        font-size 0.8rem
        text-transform uppercase
    &.button-icon
        display flex
        justify-content center
        align-items center
        padding 0
        width 2.75rem
    &.button-withIcon
        padding-left 0.625rem
        svg
            margin-right 0.4rem
    &.button-chip
        text-transform uppercase
        c background archive-inv
        height initial
        c color archive-std
        font-weight 700
        font-size 0.75rem
        padding 0.25rem 0.75rem
        border-radius 1rem

.actionsRow
    display flex
    justify-content flex-end
    :not(:last-child)
        margin-right .5rem

.button.menu-button
    position fixed
    right 1.5rem
    bottom 1.5rem
    z-index 299
    width 3rem
    height 3rem
    c background archive-primary1
    fill $archive-white
    box-shadow $archive-hoverShadow3
    svg
        width 1.75rem
        height 1.75rem
    @media screen and (min-width: ($archive-screen-mid + 1))
        display none


// Components

.actionBar
    display flex
    flex-wrap wrap
    > .actionBar-grower
        flex 1
    > :not(:last-child)
        margin-right 0.75rem
    > *
        margin-bottom 0.75rem
        @media screen and (max-width: $archive-screen-small)
            justify-content stretch
    .actionBar-spacer
        display inline-block
        flex 1

.actionBar-component
    c background archive-std
    box-shadow $archive-hoverShadow2
    display flex
    align-items center
    border-radius $archive-radius2
    &:focus.focus-visible
        box-shadow $archive-hoverShadow1, 0px 0px 0 .15rem rgba($archive-black, 0.1)
    &.actionBar-component-text
        font-weight 500
        padding $archive-radius2
        line-height 0
        white-space nowrap

.search
    flex 1
    padding 0 0.625rem
    display flex
    flex-wrap wrap
    align-items center
    > svg
        flex-shrink 0
    > *
        height 2.75rem
    .hoverParent
        display flex
        align-items center
    .button-filter
        padding .25rem
        justify-content center
        align-items center
        display flex
        align-items center
        svg
            opacity .5
        &:focus.focus-visible
            c background archive-inv-a04
            border-radius 50%

    .filterChip
        remove-native()
        background $archive-green
        color $archive-white
        border-radius $archive-radius2
        font-weight 500
        padding .5rem .6rem
        margin 0.375rem 0
        height 1rem
        &.active
            background $archive-green-selected
    > input
        flex 1
        padding 0
        min-width 5rem
    > :not(:last-child)
        margin-right 0.625rem
    &.search-slim
        c background archive-grey1
        border-radius $archive-radius1
        > *:not(.hoverParent)
            height 2rem

.nameCombo
    picture
        display inline-block
        transform translateY(.2em)
        border-radius $archive-radius-profile
        overflow hidden
        height 1.2em
        width 1.2em
        margin-right .3em
        margin-left .2em
    .name, .username
        display inline-block
    .name
        font-weight 700
        font-size 1em
        c color archive-inv
        margin-right .25em
    .username
        font-weight 400
        font-size .66em
        c color archive-inv
        opacity 0.75
    &.nameCombo-small
        .name
            font-weight 400
            font-size 1em
            c color archive-inv
            margin-right .25em
        .username
            font-weight 400
            font-size .9em
            c color archive-inv
            opacity 0.75
    &.nameCombo-inline
        .name
            font-weight 400
            font-size 1em
            color: $archive-inv
            margin-right .25em
        .username
            font-weight 400
            font-size 1em
            c color archive-inv
            opacity 0.75



.framed
    padding-top 1rem
    padding-bottom 1.5rem
    padding-left 4.5rem
    padding-right 2rem
    @media screen and (max-width: $archive-screen-mid)
        padding-top 1.75rem
        padding-left 3rem
        padding-right 3rem
    @media screen and (max-width: $archive-screen-small)
        padding-top 1.75rem
        padding-left 2rem
        padding-right 2rem

header.framed
    c background archive-grey1
    position relative
    padding-top 2.75rem
    padding-bottom 1rem
    border-bottom-right-radius $archive-radius1
    h1
        margin-top 1rem
        margin-bottom 2.25rem
    section
        margin-bottom 2rem
    &.extended
        border-bottom-right-radius 0
        padding-bottom 0
        &::after
            content ''
            position absolute
            bottom -3rem
            z-index -1
            left 0
            width 100%
            height 3rem
            c background archive-grey1
            border-bottom-right-radius $archive-radius1

.hoverParent
    position relative
.hoverBox
    position absolute
    text-align left
    z-index 100
    top 3rem
    left 0
    min-width 15rem
    max-width 20rem
    c background archive-std
    c color archive-inv
    font-weight 400
    box-shadow $archive-hoverShadow3
    border-radius $archive-radius2
    padding 1rem
    &.hoverBox-thin
        padding .4rem
    > h2, .hoverBox-header h2
        font-size 1.375rem
        font-weight 500
    .hoverBox-header, > h2, > p, .search
        margin-bottom .75rem

[data-theme^="dark"] .hoverBox
        border 0.15rem solid #313131

.animationIcon
    height 1.5rem

.preText
    white-space pre-wrap
    line-height 1.4

.optionList
    max-height 50vh
    overflow auto
    .option
        remove-native()
        line-height 1.1rem
        border-radius .5rem
        overflow hidden
        display flex
        justify-content center
        > button, > .option-box
            padding .6rem .6rem
            flex 1
            text-align left

        &:not(:last-child)
            margin-bottom 0.3rem
        &.options-moreMargin
            &:not(:last-child)
                margin-bottom .75rem
        .option-withIcon
            padding .4rem .4rem
            display flex
            justify-content center
            svg
                margin-right .4rem
        .option-noPadding
            padding 0
        .option-icon
            flex 0
            padding 0 .6rem
            line-height 1
        &.active
            c background archive-grey1
        button:focus.focus-visible, &.selected
            c background archive-grey2
    &.optionList-horizontal
        display flex
        .option
            flex 1
            text-align center
            &:not(:last-child)
                margin-bottom 0


.inputs
    .dist
        margin-top 1rem

.inputField
    border-left 2px solid
    c border-color archive-inv
    display flex
    flex-direction column
    padding-left .5rem
    &:not(:last-child)
        margin-bottom .5rem
    &.disabled
        opacity .5
    input, textarea, select, .tag, .option > label
        background unset
        border none
        margin .2em .2em .2em 0
        font-weight 500
        font-size 1.1em
        padding 0
    input::placeholder, textarea::placeholder
        c color archive-inv-a04
    > .option
        display flex
        flex-direction row
        &:first-of-type
            margin-top 0.25rem
        input
            appearance none
            flex-shrink 0
            box-sizing border-box
            height 1rem
            width 1rem
            border 0.125rem solid
            position relative
            margin 0.5rem 0.5rem 0.5rem 0.1rem
            &[type="radio"]
                border-radius 50%
                &:focus.focus-visible
                    box-shadow 0px 0px 0 .25rem rgba($archive-black, 0.1)
                &::before
                    border-radius 50%
                &::after
                    content ''
                    display block
                    top -.5rem
                    left -.5rem
                    right -.5rem
                    bottom -.5rem
                    opacity 0
                    transition opacity .1s
                    position absolute
                    c background archive-inv
                &:active::after
                    opacity .1
            &::before
                content ''
                display block
                c background archive-inv
                width 100%
                height 100%
                transition transform 0.25s
                transform scale(0)
            &:checked::before
                transform scale(0.6)
        label
            .name
                padding 0.3rem 0
            .desc
                font-size 0.875rem
                opacity 0.40
    .selectFlex
        display flex
        flex-direction row
        align-items center
        select
            appearance none
            padding-right 1.25rem
        svg
            height 1rem
            margin-left -1.5rem
            pointer-events none
        &.noItemSelected
            opacity 0.55
    textarea
        resize none
    > label
        c color archive-grey3
        text-transform uppercase
        font-weight 500
        margin .4em .4em 0 0
        font-size .8em
        overflow hidden
        max-height 0
        opacity 0
        transition max-height .25s, opacity .25s
        &.visible
            max-height 1rem
            opacity 1
    &.error
        c border-color archive-primary1
    &.focused
        c border-color archive-inv
        > label
            c color archive-inv
    .error
        font-weight 500
        c color archive-primary1
        text-transform uppercase
        font-size .8em
        padding-left 1rem
        margin-bottom .5rem
        li
            display list-item
            list-style-type disc

.inputField .autocomplete
    position relative
    display flex
    flex-wrap wrap
    input, textarea, .tag
        line-height initial
    input
        flex-grow 100
        min-width 6rem
    .tag
        display flex
        align-items center
        .icon
            height 1rem
            padding .1rem
            svg
                height 100%
                display block
                width auto
            &:focus.focus-visible
                c background archive-inv
                c fill archive-std
                border-radius 50%

.indicatorWrapper
    display flex
    align-items flex-start
    justify-content center
    &.indicatorWrapper-absolute
        position absolute
        left 0
        right 0
        top 0
        bottom 0
    &.indicatorWrapper-center
        align-items center

.indicator
    display inline-block
    padding 0.5rem
    c background archive-std
    c fill archive-inv
    line-height 0
    border-radius $archive-radius2
    > *
        width 1.5rem
    svg path
        fill inherit
    &.indicator-shadow
        box-shadow 0 0 2rem rgba($archive-black, 0.2)
    &.color-stroke svg path
        c stroke archive-inv

.dropzone
    position absolute
    visibility hidden
    left 0
    right 0
    top 0
    bottom 0
    z-index 200
    c background archive-std
    opacity 0.25
    padding 1rem
    &::before
        content ''
        box-sizing border-box
        height 100%
        width 100%
        display block
        border .25rem dashed
        c border-color archive-inv
    &.showDropzone
        visibility initial

.infoBox
    h2
        font-size 1.3
        font-weight 700
    .info
        line-height 1.4
    .text
        > h3
            font-size 0.875rem
            margin-top .75rem
            margin-bottom .25rem
            text-transform uppercase
            c color archive-grey3
        .indent
            margin-left .75rem
        font-size 0.875
        margin-top 1rem

code
    c background archive-std
    padding .5rem .75rem
    display block
    border-radius $archive-radius3
    font-family monospace

.itemList
    > .item
        .indicatorWrapper
            display flex
            padding 1rem

.itemList
    flex-grow 1
    > .item
        display flex
        margin-bottom 3rem
        border-radius $archive-radius2
        .data, .info
            flex 1
            > .error
                font-weight 500
                c color archive-primary1
                text-transform uppercase
        .info
            display flex
            flex-direction column
            justify-content center
            margin-right 1rem
            padding 1rem 0
            h3
                margin-bottom .25rem
            p
                font-size 0.9rem
                font-weight 400
            .btm
                margin-top .5rem
        .interaction
            display flex
            justify-content flex-end
            flex-direction column
    &.itemList-progress .item
        c background archive-grey1
        margin-bottom 1rem
        .interaction
            align-items flex-end
            padding 1rem
            > :not(:last-child)
                margin-bottom .5rem
            @media screen and (max-width: $archive-screen-small)
                flex-direction row
                align-items center
                > :not(:last-child)
                    margin-bottom 0
                    margin-right .5rem
            .label
                text-transform uppercase
                c background archive-std
                justify-self flex-start
                font-weight 500
                font-size .75rem
                padding .25rem .5rem
                border-radius $archive-radius2
            .button
                c background archive-primary1
                justify-self flex-end
                color white
                font-size 0.8rem
                padding 0 1rem
                text-transform uppercase
                font-weight 700
                height 2rem

.removeNative
    remove-native()

.previewItem
    remove-native()
    line-height 0
    position relative
    video, img
        position absolute
        left 0
        top 0
    video
        width 100%
    img
        width 100%


.progress
    height 0.25rem
    c background archive-primary1-a025
    border-radius $archive-radius3
    overflow hidden
    .progress-bar
        c background archive-primary1
        transition .25s width cubic-bezier(0.45, 0.05, 0.55, 0.95)
        height 100%

.collectionPreview
    width 10rem
    height 10rem
    overflow hidden
    border-radius 50%
    position relative
    background $archive-grey1
    picture
        &:nth-child(2), &:nth-child(3)
            box-shadow $archive-hoverShadow2
    picture, div
        position absolute
        left 0
        right 0
        top 0
        bottom 0
        &:nth-child(2), &:nth-child(3)
            border 4px solid
            c border-color archive-std
            overflow hidden
            border-radius 50%
        &:nth-child(2)
            width 70%
            height 70%
            left 50%
            top 50%
            transform translate(-50%, -50%)
            z-index 1
        &:nth-child(3)
            width 40%
            height 40%
            left 50%
            top 50%
            transform translate(-50%, -50%)
            z-index 2
        > *
            object-fit cover
            height 100%
            width 100%
    &.collectionPreview-mini
        picture, div
            &:nth-child(2)
                border-width 2px
                width 61%
                height 61%
            &:nth-child(3)
                border-width 2px
                width 24%
                height 24%


main > div
    margin-bottom 4.5rem

.collectionItem
    display flex
    &:not(:last-child)
        margin-bottom .5rem
    .collectionPreview
        height 2.35rem
        width 2.35rem
        margin-right .5rem
    .desc
        flex 1
        padding-top .1rem
        .top
            font-size 1rem
            line-height 1.2
        .btm
            font-size 0.75rem
            line-height 1.2

.markdown
    c color archive-inv
    font-weight 400
    line-height 1.4
    hr
        border none
        border-top 1px solid
        c border-color archive-grey2
    h1, h2, h3, h4, h5, p, ul
        margin-bottom .5rem
    h1, h2, h3, h4, h5, h6
        font-weight 5700
        margin-top 1.5rem
    h1
        font-size 1.4rem
    h2
        font-size 1.3rem
    h3
        font-size 1.2rem
    h4, h5, h6
        font-size 1.1rem
    ul, ol
        list-style disc
        padding-left 1rem
    ol
        list-style decimal
    em
        font-style italic
    img
        max-width 100%
        height auto
