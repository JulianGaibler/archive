@import "./reset"
@import "./mixins"
@import "./palette"

* {
    -webkit-font-smoothing antialiased
    -moz-osx-font-smoothing grayscale
}

html, body, #app
    height 100%

body
    font-family 'Heebo', sans-serif

input, button, textarea, select, a
    text-decoration inherit
    background unset
    border none
    color inherit
    font-family inherit
    font-size inherit
    outline none

h1
    font-size 3.3rem
    font-weight 700
h2
    font-size 1.6rem
    font-weight 500
h3
    font-size 1.25rem
    font-weight 500

strong
    font-weight 500

picture > img
    width 100%

#app
    height 100%
    display flex
    main
        flex 1

input.hiddenInput
    width 0.1px
    height 0.1px
    opacity 0
    overflow hidden
    position absolute
    z-index -1

.itemRow
    display flex
    flex-direction row
    align-items center
    &.itemRow-center
        justify-content center
    &.itemRow-align-start
        align-items flex-start
    &.itemRow-column
        flex-direction column
    @media screen and (max-width: $archive-screen-small)
        &.itemRow-smallCol
            flex-direction column
            align-items stretch
    .itemRow-grow
        flex 1

.spacerPipe
    margin 0 .5rem

picture.profilePic
    display inline-block
    border-radius $archive-radius-profile
    overflow hidden
    line-height 0

.errorBox
    background $archive-grey1
    color $archive-primary
    padding 1rem
    border-radius $archive-radius2
    margin-bottom 1rem

.modalWrapper
    position fixed
    z-index 400
    background rgba($archive-std, 0.5)
    display flex
    justify-content center
    align-items center
    left 0
    right 0
    top 0
    bottom 0
    > .modal
        padding 1rem
        background $archive-std
        border-radius $archive-radius3
        box-shadow $archive-hoverShadow
        .message
            max-width 20rem
            font-size 1.1rem
            padding .5rem
            margin-bottom 1rem
            :not(:last-child)
                margin-bottom .5rem

.button
    remove-native()
    background #F6F6F6
    font-weight 500
    padding 0 1.5rem
    height 2.75rem
    flex-shrink 0
    border-radius $archive-radius2
    &.button-primary
        background $archive-inv
        font-weight 700
        color white
        fill white
    &.button-light
        background $archive-std
    &.button-dangerous
        background $archive-primary
        font-weight 700
        color white
        fill white
    &.button-slim
        height 2rem
        padding 0 1rem
        font-size 0.8rem
        text-transform uppercase
    &.button-icon
        display flex
        justify-content center
        align-items center
        padding 0
        width 2.75rem
    &.button-withIcon
        padding-left 0.625rem
        svg
            margin-right 0.4rem
    &.button-chip
        text-transform uppercase
        background $archive-inv
        height initial
        color $archive-std
        font-weight 700
        font-size 0.75rem
        padding 0.25rem 0.75rem
        border-radius 1rem

.actionsRow
    display flex
    justify-content flex-end
    :not(:last-child)
        margin-right .5rem

.button.menu-button
    position fixed
    right 1.5rem
    bottom 1.5rem
    z-index 299
    width 3rem
    height 3rem
    background $archive-primary
    fill $archive-white
    box-shadow $archive-hoverShadow
    svg
        width 1.75rem
        height 1.75rem
    @media screen and (min-width: ($archive-screen-mid + 1))
        display none

.sidebar
    border-bottom-left-radius $archive-radius1
    min-width 15rem
    display flex
    flex-direction column
    padding .75rem 2rem 1.5rem 2rem
    hr
        border none
        border-top 1px solid rgba(0, 0, 0, 0.03)
        margin 0
    .sidebar-pic
        border-radius $archive-radius-profile
        overflow hidden
        background $archive-grey2
        picture
            width 100%
        line-height 0
        margin-right 0.75rem
        width 2.75rem
        height 2.75rem
    .sidebar-header
        display flex
        align-items center
        margin 2rem 0
        margin-left 0.625rem
        .nameCombo
            flex 1
    nav
        font-weight 500
        flex 1
        ul
            margin 1.5rem 0
            a
                cursor pointer
                display flex
                align-items center
                svg
                    margin 0.625rem
                &.router-link-active
                    background rgba($archive-primary, .1)
                    color $archive-primary
                    fill $archive-primary
                    border-radius $archive-radius3
    @media screen and (max-width: $archive-screen-mid)
        position fixed
        background $archive-std
        z-index 300
        top 0
        right 0
        bottom 0
        box-shadow $archive-hoverShadow
        transform translateX(110%)
        transition transform .3s ease
        &.sidebar-open
            transform translateX(0)
@media screen and (max-width: $archive-screen-mid)
    .blocker
        position fixed
        left 0
        right 0
        top 0
        bottom 0
        z-index 299
        background rgba($archive-inv, 0)

    .notification
        .notification-box
            margin-top 1rem
            background $archive-grey1
            transition all .5s
            border-radius $archive-radius3
            display flex
            flex-direction column
            padding 1.25rem
            h1

            p
                margin-top 0.2rem
                font-size 0.875rem
            .top
                display flex
                align-items center
                .icon
                    width 1.5rem
                    margin-right 1rem
            .btm
                margin-top 1rem
                display flex
                .progress
                    transition flex .5s
                    &:not(:last-child)
                        margin-right 0.5rem

.notification-enter, .notification-leave-to {
  opacity 0
  z-index -1
}
.notification-leave-active {
  position absolute
  width 12.5rem
}

// Components

.actionBar
    display flex
    flex-wrap wrap
    justify-content flex-end
    > .actionBar-grower
        flex 1
    > :not(:last-child)
        margin-right 0.75rem
    > *
        margin-bottom 0.75rem
        @media screen and (max-width: $archive-screen-small)
            justify-content stretch
    .actionBar-spacer
        display inline-block
        flex 1

.actionBar-component
    background #F6F6F6
    display flex
    align-items center
    border-radius $archive-radius2
    &.actionBar-component-search
        flex 1
        height 2.75rem
        padding 0 0.625rem
        display flex
        > :not(:last-child)
            margin-right 0.625rem
        .button-filter
            opacity .5
        .filterChip
            remove-native()
            background $archive-green
            color $archive-white
            border-radius $archive-radius3
            font-weight 500
            padding .5rem .6rem
            &.active
                background $archive-green-selected
        .filterList
            > li
                remove-native()
                align-items center
                span
                    padding .75rem 0
                    display inline-block
                svg
                    width 1rem
                &.selected
                    opacity .5
        > input
            flex 1
    &.actionBar-component-text
        font-weight 500
        padding $archive-radius2
        line-height 0
        white-space nowrap

.nameCombo
    picture
        display inline-block
        transform translateY(.2em)
        border-radius $archive-radius-profile
        overflow hidden
        height 1.2em
        width 1.2em
        margin-right .3em
        margin-left .2em
    .name, .username
        display inline-block
    .name
        font-weight 700
        font-size 1.33em
        color: $archive-inv
        margin-right .25em
    .username
        font-weight 400
        font-size 1em
        color: transparentify($archive-inv, 0.75)
    &.nameCombo-small
        .name
            font-weight 400
            font-size 1em
            color: $archive-inv
            margin-right .25em
        .username
            font-weight 400
            font-size .9em
            color: transparentify($archive-inv, 0.75)
    &.nameCombo-inline
        .name
            font-weight 400
            font-size 1em
            color: $archive-inv
            margin-right .25em
        .username
            font-weight 400
            font-size 1em
            color: transparentify($archive-inv, 0.75)

.framed
    padding-top 2.75rem
    padding-bottom 2.75rem
    padding-left 4.5rem
    padding-right 2rem
    @media screen and (max-width: $archive-screen-mid)
        padding-top 1.75rem
        padding-left 3rem
        padding-right 3rem
    @media screen and (max-width: $archive-screen-small)
        padding-top 1.75rem
        padding-left 2rem
        padding-right 2rem

.frame
    > header
        margin-top 1rem
        margin-bottom 2.25rem
    .content
        margin-top 2.5rem
        &.notice
            text-align center
            h2
                margin-top 2rem
            p
                margin-top 1rem
        &.content-dense
            margin-top 1rem
        &.content-box
            background $archive-grey1
            border-radius $archive-radius2
            padding 1rem
            h3:not(:first-child), .inputField:not(:first-child)
                margin 1.5rem 0 .5rem 0
            h3
                color $archive-grey3
                text-transform uppercase
                font-weight 500
                font-size 0.8em


.hoverParent
    position relative
.hoverBox
    position absolute
    text-align left
    z-index 100
    top 3rem
    left 0
    min-width 15rem
    max-width 20rem
    background $archive-std
    color $archive-inv
    font-weight 400
    box-shadow $archive-hoverShadow
    border-radius $archive-radius2
    padding 1rem
    &.hoverBox-right
        left initial
        right 0
    &.hoverBox-thin
        padding .4rem
    > :not(:last-child)
        margin-bottom .5rem
    h2
        font-size 1.375rem
        font-weight 500
    .optionList
        .option
            remove-native()
            padding .6rem .6rem
            line-height 1.1rem
            border-radius .5rem
            &:not(:last-child)
                margin-bottom 0.3rem
            &.option-withIcon
                padding .4rem .4rem
                span
                    line-height 0
                svg
                    margin-right .4rem
            &.create
                background $archive-grey1
            &:hover, &.selected
                background $archive-grey2
        &.optionList-horizontal
            display flex
            .option
                flex 1
                text-align center
                &:not(:last-child)
                    margin-bottom 0


// Old stuff, try to remove it

.inputs
    .dist
        margin-top 1rem

.inputField
    border-left 2px solid lightgrey
    display flex
    flex-direction column
    padding-left .5rem
    &:not(:last-child)
        margin-bottom .5rem
    &.disabled
        opacity .5
    input, textarea, select, .tag, .option > label
        background unset
        border none
        margin .2em .2em .2em 0
        font-weight 500
        font-size 1.1em
        padding 0
    > .option
        display flex
        flex-direction row
        &:first-of-type
            margin-top 0.25rem
        input
            appearance none
            flex-shrink 0
            box-sizing border-box
            height 1rem
            width 1rem
            border 0.125rem solid
            position relative
            margin 0.5rem 0.5rem 0.5rem 0.1rem
            &[type="radio"]
                border-radius 50%
                &::before
                    border-radius 50%
            &::after
                content ''
                display block
                top -.5rem
                left -.5rem
                right -.5rem
                bottom -.5rem
                opacity 0
                transition opacity .1s
                position absolute
                background $archive-inv
            &:active::after
                opacity .1
            &::before
                content ''
                display block
                background $archive-inv
                width 100%
                height 100%
                transition transform 0.25s
                transform scale(0)
            &:checked::before
                transform scale(0.6)
        label
            .name
                padding 0.3rem 0
            .desc
                font-size 0.875rem
                opacity 0.40
    .selectFlex
        display flex
        flex-direction row
        align-items center
        select
            appearance none
            padding-right 1.25rem
        svg
            height 1rem
            margin-left -1.5rem
            pointer-events none
        &.noItemSelected
            opacity 0.55
    textarea
        resize none
    > label
        color $archive-grey3
        text-transform uppercase
        font-weight 500
        margin .4em .4em 0 0
        font-size .8em
        overflow hidden
        max-height 0
        opacity 0
        transition max-height .25s, opacity .25s
        &.visible
            max-height 1rem
            opacity 1
    &.error
        border-color $archive-primary
    .error
        font-weight 500
        color $archive-primary
        text-transform uppercase
        font-size .8em
        padding-left 1rem
        margin-bottom .5rem
        li
            display list-item
            list-style-type disc

.inputField .autocomplete
    position relative
    display flex
    flex-wrap wrap
    input, textarea, .tag
        line-height initial
    input
        flex-grow 100
        min-width 6rem
    .tag
        display flex
        align-items center
        .icon
            height 1rem
            svg
                height 100%
                display block
                width auto

.indicatorWrapper
    display flex
    align-items flex-start
    justify-content center
    &.indicatorWrapper-absolute
        position absolute
        left 0
        right 0
        top 0
        bottom 0
    &.indicatorWrapper-center
        align-items center

.indicator
    display inline-block
    padding 0.5rem
    background $archive-std
    fill $archive-inv
    line-height 0
    border-radius $archive-radius2
    > *
        width 1.5rem
    &.indicator-shadow
        box-shadow 0 0 2rem rgba($archive-inv, 0.2)

.dropzone
    position absolute
    visibility hidden
    left 0
    right 0
    top 0
    bottom 0
    z-index 200
    background rgba($archive-std, .25)
    padding 1rem
    &::before
        content ''
        box-sizing border-box
        height 100%
        width 100%
        display block
        border .25rem dashed rgba($archive-inv, .25)
    &.showDropzone
        visibility initial

.upload
    display flex
    box-sizing border-box
    min-height 100%
    flex-direction column
    position relative
    > .itemList
        input.uploadclick
            width 0.1px
            height 0.1px
            opacity 0
            overflow hidden
            position absolute
            z-index -1
        > .item
            transition .25s background, .25s margin
            > :not(:last-child)
                margin-right 2rem
                @media screen and (max-width: $archive-screen-large)
                    margin-right 0
            .preview
                border-radius $archive-radius2
                position relative
                overflow hidden
                -webkit-mask-image -webkit-radial-gradient(white, black)
                transition .25s width
                line-height 0
                max-width 24rem
                img, video
                    width 100%
                    object-fit cover
            label.preview
                min-width 20rem
            @media screen and (max-width: $archive-screen-large)
                display grid
                grid-gap 1rem
                grid-template-columns 1fr
                grid-template-rows 1fr auto
                .previewWrapper
                    grid-row 1
                    grid-column 1 / 3
                .data
                    grid-row 2
                    grid-column 1
                .interaction
                    grid-row 2
                    grid-column 2
                label.preview
                    min-width auto
                .preview
                    margin 0 auto 0 auto
            &.uploadclick
                .preview
                    line-height 1rem
                    display block
                    padding 4.25rem 1.5rem 5rem 1.5rem
                    text-align center
                    background $archive-grey1
                    color $archive-primary
                    font-weight 500
                    box-sizing border-box
                    svg
                        height 2rem
                        width auto
                        fill $archive-primary
            &.itemList-progress .item
                background $archive-grey1
                margin-bottom 1rem
                .preview
                    width 6.5rem
                    height 6.5rem
                    > *
                        height 100%
                        width auto
                        object-fit cover
.users
    .itemList .item
        > picture
            border-radius $archive-radius-profile
            overflow hidden
            width 10rem
            height 10rem
            margin-right 2rem
            @media screen and (max-width: $archive-screen-small)
                width 5rem
                height 5rem
                margin-right 1rem
        > .info > .top
            font-size 1.2rem

.user
    picture
        margin-left 1rem
        width 8rem
        height 8rem

.settings
    > section > .itemRow > :not(:last-child)
        margin-right 2rem
    > .content
        > h2, > h3
            margin-top 2rem
            margin-bottom 1rem
    .sessionManager
        position relative
        > .indicatorWrapper
            background rgba($archive-std, 0.5)
        .item .info
            h4
                font-weight 500
                margin-bottom .25rem
            p
                margin-bottom .75rem
            h4, p
                font-size 1rem
    .profileInput
        .dropzone::before
            border-radius $archive-radius-profile
        input
            width 0.1px
            height 0.1px
            opacity 0
            overflow hidden
            position absolute
            z-index -1
        .profilePic
            width 10rem
            height 10rem
            margin 0 auto
            background $archive-grey2
            overflow hidden
            border-radius $archive-radius-profile
            position relative
            margin-bottom 1rem
            picture
                line-height 0
        label
            display button
        .itemRow
            > :not(:last-child)
                margin-right .5rem


code
    background $archive-std
    padding .5rem .75rem
    display block
    border-radius $archive-radius3
    font-family monospace

.itemList
    > .item
        .indicatorWrapper
            display flex
            padding 1rem

.post
    .media
        width 100%
        border-radius $archive-radius2
        overflow hidden
        -webkit-mask-image -webkit-radial-gradient(white, black)
        line-height 0
        img, video
            width 100%
    h2
        margin-bottom .25rem
    .post-info
        padding 1rem
    .keywords
        remove-native()
        display flex
        flex-wrap wrap
        .keyword
            text-transform uppercase
            background $archive-std
            height initial
            color $archive-inv
            font-weight 700
            font-size 0.75rem
            padding 0.5rem 0.75rem
            border-radius 1rem
            margin-bottom .5rem
            &:not(:last-child)
                margin-right .5rem

    .caption
        white-space pre
        line-height 1.5

.itemList
    flex-grow 1
    > .item
        display flex
        margin-bottom 3rem
        border-radius $archive-radius2
        .data, .info
            flex 1
            > .error
                font-weight 500
                color $archive-primary
                text-transform uppercase
        .info
            display flex
            flex-direction column
            justify-content center
            margin-right 1rem
            padding 1rem 0
            h3
                margin-bottom .25rem
            p
                font-size 0.9rem
                font-weight 400
            .btm
                margin-top 1rem
        .interaction
            display flex
            justify-content flex-end
            flex-direction column
    &.itemList-progress .item
        background $archive-grey1
        margin-bottom 1rem
        .interaction
            align-items flex-end
            padding 1rem
            > :not(:last-child)
                margin-bottom .5rem
            @media screen and (max-width: $archive-screen-small)
                flex-direction row
                align-items center
                > :not(:last-child)
                    margin-bottom 0
                    margin-right .5rem
            .label
                text-transform uppercase
                background $archive-std
                justify-self flex-start
                font-weight 500
                font-size .75rem
                padding .25rem .5rem
                border-radius $archive-radius2
            .button
                background $archive-primary
                justify-self flex-end
                color white
                font-size 0.8rem
                padding 0 1rem
                text-transform uppercase
                font-weight 700
                height 2rem


.mediaList
    display flex
    margin-bottom 1rem
    > .column
        flex 1
        &:not(:last-child)
            margin-right 1rem
        > .item
            display block
            overflow hidden
            -webkit-mask-image -webkit-radial-gradient(white, black)
            text-align center
            border-radius $archive-radius2
            background $archive-grey1
            &:not(:last-child)
                margin-bottom 1rem

.removeNative
    remove-native()

.previewItem
    remove-native()
    line-height 0
    position relative
    video, img
        position absolute
        left 0
        top 0
    video
        width 100%
    img
        width 100%


.progress
    height 0.25rem
    background rgba($archive-primary, 0.2)
    border-radius $archive-radius3
    overflow hidden
    .progress-bar
        background $archive-primary
        transition .25s width cubic-bezier(0.45, 0.05, 0.55, 0.95)
        height 100%

.queue
    @media screen and (max-width: $archive-screen-small)
        .itemList > .item
            display grid
            grid-template-columns: auto 1fr
            grid-template-rows: 1fr
            .indicatorWrapper
                grid-row 1
                grid-column 1
            .info
                grid-row 1
                grid-column 2
            .interaction
                grid-row 2
                grid-column 1 / 3

.login
    position absolute
    display flex
    flex-direction column
    left 0
    right 0
    top 0
    bottom 0
    .card
        color $archive-std
        background $archive-inv
        flex 1
        padding $archive-margin
        card-radius true true
    &::before
        content ''
        height 5rem
