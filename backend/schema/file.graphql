"""
Base interface for all file types.
"""
interface File {
  """
  The file UUID
  """
  id: String!
  creator: User!
  processingStatus: FileProcessingStatus!
  processingProgress: Int
  processingNotes: String
  updatedAt: DateTime!
  createdAt: DateTime!
  """
  Modifications applied to this file during reprocessing.
  """
  modifications: FileModifications
  """
  Path to the unmodified compressed variant (if modifications were applied).
  """
  unmodifiedCompressedPath: String
}

"""
A photo file.
"""
type PhotoFile implements File {
  """
  The file UUID
  """
  id: String!
  creator: User!
  processingStatus: FileProcessingStatus!
  processingProgress: Int
  processingNotes: String
  updatedAt: DateTime!
  createdAt: DateTime!
  modifications: FileModifications
  unmodifiedCompressedPath: String
  originalPath: String!
  thumbnailPath: String
  compressedPath: String!
  relativeHeight: Float!
}

"""
A video file.
"""
type VideoFile implements File {
  """
  The file UUID
  """
  id: String!
  creator: User!
  processingStatus: FileProcessingStatus!
  processingProgress: Int
  processingNotes: String
  updatedAt: DateTime!
  createdAt: DateTime!
  modifications: FileModifications
  unmodifiedCompressedPath: String
  """
  Path to the unmodified thumbnail poster (if modifications were applied).
  """
  unmodifiedThumbnailPosterPath: String
  originalPath: String!
  thumbnailPath: String
  posterThumbnailPath: String
  compressedPath: String!
  relativeHeight: Float!
}

"""
A GIF file.
"""
type GifFile implements File {
  """
  The file UUID
  """
  id: String!
  creator: User!
  processingStatus: FileProcessingStatus!
  processingProgress: Int
  processingNotes: String
  updatedAt: DateTime!
  createdAt: DateTime!
  modifications: FileModifications
  unmodifiedCompressedPath: String
  originalPath: String!
  thumbnailPath: String
  compressedPath: String!
  compressedGifPath: String!
  relativeHeight: Float!
}

"""
An audio file.
"""
type AudioFile implements File {
  """
  The file UUID
  """
  id: String!
  creator: User!
  processingStatus: FileProcessingStatus!
  processingProgress: Int
  processingNotes: String
  updatedAt: DateTime!
  createdAt: DateTime!
  modifications: FileModifications
  unmodifiedCompressedPath: String
  originalPath: String!
  compressedPath: String!
  waveform: [Float!]!
  waveformThumbnail: [Float!]!
}

"""
A profile picture file.
"""
type ProfilePictureFile implements File {
  """
  The file UUID
  """
  id: String!
  creator: User!
  processingStatus: FileProcessingStatus!
  processingProgress: Int
  processingNotes: String
  updatedAt: DateTime!
  createdAt: DateTime!
  modifications: FileModifications
  unmodifiedCompressedPath: String
  profilePicture256: String!
  profilePicture64: String!
}

"""
Modifications applied to a file during reprocessing.
"""
type FileModifications {
  """
  Crop modification applied to the file.
  """
  crop: CropMetadata

  """
  Trim modification applied to the file.
  """
  trim: TrimMetadata

  """
  File type conversion applied.
  """
  fileType: FileType
}

"""
Metadata about a crop modification.
"""
type CropMetadata {
  """
  Left edge of the crop area in pixels.
  """
  left: Int!

  """
  Top edge of the crop area in pixels.
  """
  top: Int!

  """
  Right edge of the crop area in pixels.
  """
  right: Int!

  """
  Bottom edge of the crop area in pixels.
  """
  bottom: Int!
}

"""
Metadata about a trim modification.
"""
type TrimMetadata {
  """
  Start time of the trim in seconds.
  """
  startTime: Float!

  """
  End time of the trim in seconds.
  """
  endTime: Float!
}
